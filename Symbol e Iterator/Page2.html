<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Implementare il protocollo iterator</title>
</head>
<body>
    <script>
        /*Un iteratore per essere tale deve essere in grado di accedere ad una 
        sequenza di elementi uno alla volta. Iterator e Iterable sono
        protocolli, cio√® basati su convenzioni. Creando un iteratore
        creiamo una sorta di cursore che si sposta dalla posizione iniziale
        a quella finale.*/
        function mioIteraore(arr){
            let cursore = 0; //Posizione inizio sequenza
            /*Per implementare il protocollo dobbiamo restituire un oggetto
            con una funzione next() che resituisce il valore se stiamo
            ancora all'interno della sequenza e un booleano done.*/
            return{
                next(){
                  return cursore < arr.length ?
                  {value : arr[cursore++], done:false}:
                  {done:true}

               }
            }

        }
        let iteratore = mioIteraore([3,5,6]);
        console.log(iteratore.next());//Object con value 3 done = flase
        console.log(iteratore.next());//Object con value 5 done = flase
        console.log(iteratore.next());//Object con value 6 done = flase
        console.log(iteratore.next());//Object con done = true
        /*--L'aver implementato il protocollo Iterator non significa che
        possiamo scorrere l'array con un for of.*/
    </script>
</body>
</html>